// This file defines two fonts containing text and symbol for equations.
// It is not given, do it yourself.
@import url(./mathfont.css);

.eqn_font() {
	font-family: "Math-Text", "Math-Symbol", "Tinos", "Linux Libertine", "Times New Roman", serif;

	// I turned off lnum numbers in Chrome due to a Chrome bug:
	// when font-feature-settings is on, unicode-range of
	// @font-face's will fail. It is fixed in Nov 20, 2013, but
	// I have to wait for newer version of Chrome.
	-webkit-font-feature-settings: normal;
	text-rendering: optimizeSpeed;
}
// equations
.eqn {
	-webkit-font-feature-settings: normal;

	// Chrome bug workaround.
	var {
		-webkit-font-feature-settings: "lnum";
		&.nm {
			font-style: normal;
		}
	}

	i {font-style: normal; vertical-align: 0; line-height: 1.2}
	> u {
		text-decoration: none;
		> .ei {
			.e;
			position:relative;
		}
		display: inline-block;
		text-align: left;
	}
	.e () {
		display: inline-block;
	}
	.b () {
		display: block;
		white-space: nowrap;
	}
	.h {
		display: none;
	}

	.bb, .bo {
		.e;
		transform-origin: 50% 50%;
		-webkit-transform-origin: 50% 50%;
		-moz-transform-origin: 50% 50%;
		-ms-transform-origin: 50% 50%;
		-o-transform-origin: 50% 50%;
	}
	.fb {
		.e;
		vertical-align: middle;
		> .num, > .den, > .fdv {
			.b;
			position: relative;
		}
		> .num, > .den {
			padding: 0 0.2em;
			text-align: center;
		}
		> .fdv {
			height: 1px;
			background: black;
			overflow: hidden;
			margin: -1px 0 0 0;
		}
	}

	.sqrt {
		display: inline-block;
		padding-left: 1em;
		position: relative;
		&:before {
			content: ' ';
			display: block;
			position: absolute;
			top: -1px;
			left: 0;
			bottom: 0;
			width: 1em;
			background: url(../font/sqrt.svg);
			background-size: 1em 100%;
			background-position: left top;
			background-repeat: no-repeat;
		}
		.i {
			.e;
			display: inline-block;
			border-top: 1px solid black;
			margin-top: -1px;
		}
	}

	.sg {
		.e;
		> .ss {
			.e;
			vertical-align: top;
			height: 0;
			position: relative;
			> .ssi {
				display: block;
				text-align: left;
				position: relative;
				> sup, > sub {
					.b;
					font-size: 1em;
					display: block;
					vertical-align: baseline;
					text-align: left;
					position: relative;
					op, .op {
						margin: 0;
					}
				}
			}
		}
	}
	.sc {
		.e;
		vertical-align: middle;
	}
	sp, .sp {
		white-space: pre-wrap;
	}
	code {
		color: #900;
	}
}

div.eqn-display {
	text-align: center;
	> .eqn-display-i {
		text-align: left;
		display: inline-block;
	}
}
table.eqn-align {
	margin-left: auto;
	margin-right: auto;
	min-width: 0;
	box-shadow: none;
	border: none;
	td {
		padding:0 0.2em;
	}
}

div.eqn-display {
	.parag;
	text-align: center;
	> .eqn-display-i {
		text-align: left;
		display: inline-block;
	}
}
table.eqn-align {
	.parag;
	margin-left: auto;
	margin-right: auto;
	min-width: 0;
	box-shadow: none;
	border: none;
	td {
		padding:0 0.2em;
	}
}